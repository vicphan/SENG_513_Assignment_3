{"ast":null,"code":"var _jsxFileName = \"/Users/vicphan/Projects/SENG_513/SENG_513_Assignment_3/client/src/pages/components/game.js\",\n  _s = $RefreshSig$();\nimport Board from \"./board\";\nimport React, { useEffect, useState } from \"react\";\nimport WinnerPopUp from \"./popups/winner_pop_up\";\nimport GoBackPopUp from \"./popups/go_back_pop_up\";\nimport PlayerDisconnected from \"./popups/pd_pop_up\";\nimport ButtonWithIcon from \"./button_with_icon\";\nimport { socket as soc } from '../../context/socket';\nimport { useCookies } from \"react-cookie\";\n\n// Includes all the game logic\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Game = _ref => {\n  _s();\n  let {\n    nav,\n    p,\n    player_number,\n    player_names\n  } = _ref;\n  const socket = soc;\n  const playerColor = [\"blue\", \"yellow\", \"red\"];\n  const emptyBoxIDs = [[\"empty_box_0\", \"empty_box_1\", \"empty_box_2\"], [\"empty_box_3\", \"empty_box_4\", \"empty_box_5\"], [\"empty_box_6\", \"empty_box_7\", \"empty_box_8\"]];\n  const player = p;\n  const playerNumber = player_number;\n  const playerNames = player_names;\n  const [playerTurn, setPlayerTurn] = useState(1);\n  const [step, setStep] = useState(1);\n  const [board, setBoard] = useState(Array(24).fill(null));\n  const [score, setScore] = useState(Array(3).fill(0));\n  const [openWindow, setOpenWindow] = useState(false);\n  const [openGoBack, setOpenGoBack] = useState(false);\n  const [playerDisconnected, setPlayerDisconnected] = useState(false);\n  const [winnerString, setWinnerString] = useState(null);\n  useEffect(() => {\n    function initSocketEvents() {\n      socket.on(\"playerTurnTaken\", function (data) {\n        updateState(data.player_turn, data.step, data.board, data.score);\n        if (data.player !== this.player_number) {\n          const index = data.index;\n          const color = playerColor[data.player - 1];\n          changeLineColor(index, color);\n        }\n      });\n      socket.on(\"boxFilled\", function (data) {\n        displayBoxColor(data.indices, playerColor[data.player - 1]);\n      });\n      socket.on(\"gameOver\", function (data) {\n        gameOver(data.winner_string);\n      });\n      socket.on(\"playerDisconnected\", function (data) {\n        playerDisconnected();\n      });\n    }\n    function displayLine() {\n      displayLineColor(playerColor[playerNumber - 1]);\n    }\n    initSocketEvents();\n    displayLine();\n  });\n  const openPlayerDisconnectedBox = () => {\n    setOpenGoBack(false);\n    setOpenWindow(false);\n    setPlayerDisconnected(true);\n  };\n  const gameOver = winner_string => {\n    setWinnerString(winner_string);\n    setOpenGoBack(false);\n    setOpenWindow(true);\n    setPlayerDisconnected(false);\n  };\n  const goBackPopUpAppear = () => {\n    setOpenGoBack(true);\n    setOpenWindow(false);\n    setPlayerDisconnected(false);\n  };\n  const updateState = (player_turn, step, board, score) => {\n    setPlayerTurn(player_turn);\n    setStep(step);\n    setBoard(board);\n    setScore(score);\n  };\n\n  // Method that updates game logic when a horizontal or vertical line has been clicked/completed\n  // Takes in unique identifier (ID) assigned to all lines in board \n  const handleClick = i => {\n    if (playerTurn !== playerNumber) {\n      alert(\"Not your turn!\");\n      return;\n    }\n    if (board.at(i) !== null) {\n      alert(\"Invalid move!\");\n      return;\n    }\n    const index = i;\n    const player = playerNumber;\n    socket.emit(\"handleClick\", {\n      player,\n      index\n    });\n  };\n\n  // changes either vertical or horizontal line based on color passed in\n  const displayLineColor = color => {\n    let css_h_line = \".h_line:hover{ background-color: \" + color + \" }\";\n    let css_v_line = \".v_line:hover{ background-color: \" + color + \" }\";\n    let style = document.createElement('style');\n    style.appendChild(document.createTextNode(css_h_line));\n    style.appendChild(document.createTextNode(css_v_line));\n    document.getElementsByTagName('head')[0].appendChild(style);\n  };\n\n  // displays box color based on indice and color specified\n  const displayBoxColor = (indices, color) => {\n    for (let i = 0; i < indices.length; i++) {\n      let index = indices[i];\n      if (document.getElementById(\"empty_box_\" + index)) {\n        document.getElementById(\"empty_box_\" + index).style.backgroundColor = color;\n      } else {\n        let css = \"#empty_box_\" + index + \"{ background-color: \" + color + \" }\";\n        let style = document.createElement('style');\n        style.appendChild(document.createTextNode(css));\n        document.getElementsByTagName('head')[0].appendChild(style);\n      }\n    }\n  };\n\n  // resets boxes to default color\n  const resetBoxColors = () => {\n    console.log(\"reset box colors\");\n    this.displayBoxColor([0, 1, 2, 3, 4, 5, 6, 7, 8], \"black\");\n  };\n\n  // changes specified line to specified color\n  const changeLineColor = (index, color) => {\n    document.getElementById(\"line_\" + index).style.backgroundColor = color;\n  };\n\n  // reset all line colors to default\n  const resetLineColors = () => {\n    for (let i = 0; i < 24; i++) {\n      document.getElementById(\"line_\" + i).style.backgroundColor = null;\n    }\n  };\n\n  // restarts game by resetting states\n  const restartGame = () => {\n    setPlayerTurn(1);\n    setStep(1);\n    setBoard(Array(24).fill(null));\n    setScore(Array(3).fill(0));\n    setOpenGoBack(false);\n    setOpenWindow(false);\n    setPlayerDisconnected(false);\n    setWinnerString(null);\n    resetLineColors();\n    displayLineColor(this.player_color[this.state.player_turn - 1]);\n    resetBoxColors();\n  };\n\n  // closes window by setting open_window state to false\n  const closeWindow = () => {\n    setOpenWindow(false);\n  };\n  const quitGame = () => {\n    this.socket.emit(\"playerDisconnected\", {\n      playerNumber\n    });\n    const goBack = nav;\n    goBack();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"center\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"info_text\",\n        children: [/*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"Current turn:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 42\n        }, this), \" \", playerNames[playerTurn - 1]]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"info_text\",\n        children: [playerNames[0], \": \", score[0]]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"info_text\",\n        children: [playerNames[1], \": \", score[1]]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"info_text\",\n        children: [playerNames[2], \": \", score[2]]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"button_div center padding_top_bottom\",\n      children: [/*#__PURE__*/_jsxDEV(ButtonWithIcon, {\n        type: \"back\",\n        onClick: () => goBackPopUpAppear()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(ButtonWithIcon, {\n        type: \"replay\",\n        onClick: restartGame.bind(this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Board, {\n      empty_box_ids: emptyBoxIDs,\n      handleClick: handleClick.bind(this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(WinnerPopUp, {\n      open_window: openWindow,\n      close_window: closeWindow.bind(this),\n      main_menu: nav,\n      winner_string: winnerString,\n      player_names: playerNames,\n      score: score\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(GoBackPopUp, {\n      open_go_back: openGoBack,\n      close_window: closeWindow.bind(this),\n      main_menu: quitGame.bind(this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(PlayerDisconnected, {\n      player_disconnected: playerDisconnected,\n      close_window: closeWindow.bind(this),\n      main_menu: nav\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 181,\n    columnNumber: 9\n  }, this);\n};\n_s(Game, \"l8/2SQwXmzgcDU8S+MiBciRe1gg=\");\n_c = Game;\nexport default Game;\nvar _c;\n$RefreshReg$(_c, \"Game\");","map":{"version":3,"names":["Board","React","useEffect","useState","WinnerPopUp","GoBackPopUp","PlayerDisconnected","ButtonWithIcon","socket","soc","useCookies","Game","nav","p","player_number","player_names","playerColor","emptyBoxIDs","player","playerNumber","playerNames","playerTurn","setPlayerTurn","step","setStep","board","setBoard","Array","fill","score","setScore","openWindow","setOpenWindow","openGoBack","setOpenGoBack","playerDisconnected","setPlayerDisconnected","winnerString","setWinnerString","initSocketEvents","on","data","updateState","player_turn","index","color","changeLineColor","displayBoxColor","indices","gameOver","winner_string","displayLine","displayLineColor","openPlayerDisconnectedBox","goBackPopUpAppear","handleClick","i","alert","at","emit","css_h_line","css_v_line","style","document","createElement","appendChild","createTextNode","getElementsByTagName","length","getElementById","backgroundColor","css","resetBoxColors","console","log","resetLineColors","restartGame","player_color","state","closeWindow","quitGame","goBack","bind"],"sources":["/Users/vicphan/Projects/SENG_513/SENG_513_Assignment_3/client/src/pages/components/game.js"],"sourcesContent":["import Board from \"./board\";\nimport React, { useEffect, useState } from \"react\";\nimport WinnerPopUp from \"./popups/winner_pop_up\";\nimport GoBackPopUp from \"./popups/go_back_pop_up\";\nimport PlayerDisconnected from \"./popups/pd_pop_up\";\nimport ButtonWithIcon from \"./button_with_icon\";\nimport { socket as soc} from '../../context/socket';\nimport { useCookies } from \"react-cookie\";\n\n// Includes all the game logic\nconst Game = ({nav, p, player_number, player_names}) => {\n\n    const socket = soc;\n    const playerColor = [\"blue\", \"yellow\", \"red\"];\n    const emptyBoxIDs = [\n        [\"empty_box_0\", \"empty_box_1\", \"empty_box_2\"],\n        [\"empty_box_3\", \"empty_box_4\", \"empty_box_5\"],\n        [\"empty_box_6\", \"empty_box_7\", \"empty_box_8\"]\n    ];\n    const player = p;\n    const playerNumber = player_number;\n    const playerNames = player_names;\n    const [playerTurn, setPlayerTurn] = useState(1);\n    const [step, setStep] = useState(1);\n    const [board, setBoard] = useState(Array(24).fill(null));\n    const [score, setScore] = useState(Array(3).fill(0));\n    const [openWindow, setOpenWindow] = useState(false);\n    const [openGoBack, setOpenGoBack] = useState(false);\n    const [playerDisconnected, setPlayerDisconnected] = useState(false);\n    const [winnerString, setWinnerString] = useState(null);\n\n    useEffect(() => {\n        function initSocketEvents() {\n            socket.on(\"playerTurnTaken\", function(data){\n                updateState(data.player_turn, data.step, data.board, data.score);\n                if (data.player !== this.player_number){\n                    const index = data.index;\n                    const color = playerColor[data.player-1];\n                    changeLineColor(index, color);\n                }\n            })\n            socket.on(\"boxFilled\", function(data){\n                displayBoxColor(data.indices, playerColor[data.player-1]);\n            })\n            socket.on(\"gameOver\", function(data){\n                gameOver(data.winner_string);\n            })\n            socket.on(\"playerDisconnected\", function(data){\n                playerDisconnected();\n            })\n        }\n\n        function displayLine() {\n            displayLineColor(playerColor[playerNumber-1]);\n        }\n\n        initSocketEvents();\n        displayLine();\n    })\n\n\n\n    const openPlayerDisconnectedBox = () => {\n        setOpenGoBack(false);\n        setOpenWindow(false);\n        setPlayerDisconnected(true);\n    }\n\n    const gameOver = (winner_string) => {\n        setWinnerString(winner_string);\n        setOpenGoBack(false);\n        setOpenWindow(true);\n        setPlayerDisconnected(false);\n    }\n\n    const goBackPopUpAppear = () => {\n        setOpenGoBack(true);\n        setOpenWindow(false);\n        setPlayerDisconnected(false);\n    }\n\n    const updateState = (player_turn, step, board, score) => {\n        setPlayerTurn(player_turn);\n        setStep(step);\n        setBoard(board);\n        setScore(score);\n    }\n\n    // Method that updates game logic when a horizontal or vertical line has been clicked/completed\n    // Takes in unique identifier (ID) assigned to all lines in board \n    const handleClick = (i) => {\n        if (playerTurn !== playerNumber){\n            alert(\"Not your turn!\");\n            return;\n        }\n        if (board.at(i) !== null){\n            alert(\"Invalid move!\");\n            return;\n        }\n        const index = i;\n        const player = playerNumber;\n        socket.emit(\"handleClick\", {player, index});\n    }\n\n    // changes either vertical or horizontal line based on color passed in\n    const displayLineColor = (color) => {\n        let css_h_line = \".h_line:hover{ background-color: \" + color + \" }\";\n        let css_v_line = \".v_line:hover{ background-color: \" + color + \" }\";\n\n        let style = document.createElement('style');\n\n        style.appendChild(document.createTextNode(css_h_line));\n        style.appendChild(document.createTextNode(css_v_line));\n\n        document.getElementsByTagName('head')[0].appendChild(style);\n    }\n\n    // displays box color based on indice and color specified\n    const displayBoxColor = (indices, color) => {\n        for (let i = 0; i < indices.length; i++) {\n            let index = indices[i];\n            if (document.getElementById(\"empty_box_\" + index)) {\n                document.getElementById(\"empty_box_\" + index).style.backgroundColor = color;\n            }\n            else {\n                let css = \"#empty_box_\" + index + \"{ background-color: \" + color + \" }\";\n                let style = document.createElement('style');\n\n                style.appendChild(document.createTextNode(css));\n                document.getElementsByTagName('head')[0].appendChild(style);\n            }\n        }\n\n    }\n\n    // resets boxes to default color\n    const resetBoxColors = () => {\n        console.log(\"reset box colors\")\n        this.displayBoxColor([0, 1, 2, 3, 4, 5, 6, 7, 8], \"black\");\n    }\n\n    // changes specified line to specified color\n    const changeLineColor = (index, color) => {\n        document.getElementById(\"line_\" + index).style.backgroundColor = color;\n    }\n\n    // reset all line colors to default\n    const resetLineColors = () => {\n        for (let i = 0; i < 24; i++) {\n            document.getElementById(\"line_\" + i).style.backgroundColor = null;\n        }\n    }\n\n    // restarts game by resetting states\n    const restartGame = () => {\n        setPlayerTurn(1);\n        setStep(1);\n        setBoard(Array(24).fill(null));\n        setScore(Array(3).fill(0));\n        setOpenGoBack(false);\n        setOpenWindow(false);\n        setPlayerDisconnected(false);\n        setWinnerString(null);\n        resetLineColors();\n        displayLineColor(this.player_color[this.state.player_turn - 1]);\n        resetBoxColors();\n    }\n\n    // closes window by setting open_window state to false\n    const closeWindow = () => {\n        setOpenWindow(false);\n    }\n\n    const quitGame = () => {\n        this.socket.emit(\"playerDisconnected\", {playerNumber});\n        const goBack = nav;\n        goBack();\n    }\n\n    return(\n        <div>\n            <div className=\"center\">\n                <p className=\"info_text\"><b>Current turn:</b> {playerNames[playerTurn-1]}</p>\n                <p className=\"info_text\">{playerNames[0]}: {score[0]}</p>\n                <p className=\"info_text\">{playerNames[1]}: {score[1]}</p>\n                <p className=\"info_text\">{playerNames[2]}: {score[2]}</p>\n            </div>\n            <div className=\"button_div center padding_top_bottom\">\n                <ButtonWithIcon type=\"back\" onClick={() => goBackPopUpAppear()} />\n                <ButtonWithIcon type=\"replay\" onClick={restartGame.bind(this)} />\n            </div>\n            <Board empty_box_ids={emptyBoxIDs} handleClick={handleClick.bind(this)} />\n            <WinnerPopUp open_window={openWindow} close_window={closeWindow.bind(this)} main_menu={nav} winner_string={winnerString} player_names={playerNames} score={score}/>\n            <GoBackPopUp open_go_back={openGoBack} close_window={closeWindow.bind(this)} main_menu={quitGame.bind(this)} />\n            <PlayerDisconnected player_disconnected={playerDisconnected} close_window={closeWindow.bind(this)} main_menu={nav} />\n        </div>\n    )\n}\n\nexport default Game;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}